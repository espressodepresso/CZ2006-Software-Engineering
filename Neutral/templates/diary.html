{% extends "bootstrap/base.html" %}

{% block styles %}
{{super()}}
  <meta charset="utf-8">
  <title>Search Food</title>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
  <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>   
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="static/diary.css">
{% endblock %}

{% block content %}
<body>
<div class="container background" style="margin-top:3rem">
    <div class="date-buttons center-block text-center">
      <button type="button" class="btn btn-primary"><i class="fa fa-angle-left"></i></button>
      <a href="#" class="btn btn-primary">{{date}}</a>
      <button type="button" class="btn btn-primary"><i class="fa fa-angle-right"></i></button>
    </div>
  <div class="food-intake">
      <h1 class="text-center">Food Intake Breakdowns</h1>
        <div class="col center-block text-center">
          <form action="{{ url_for('diary') }}" method="post">
          <input type="submit" name="action" value="Nutrients"class="btn btn-primary btn-lg active">
          <input type="submit" name="action" value="Calories" class="btn btn-primary btn-lg active">
          </form>
        </div>
  </div>  
    <h1 class="text-center"><u>{{header}}</u></h1>
  <div class='row'>
      <div class="col center-block text-center">
        <div class="ct-chart ct-golden-section"></div>
      </div>
        <script type="text/javascript">
            var values = {{ values|tojson }};
            var labels = {{ labels|tojson}};
            var data = {labels:labels,
                        series: values};
            var options = {
                total: 100,
                donut: true,
                donutWidth:'55%',
                showLabel:true,
                labelDirection: 'explode'
            };
            var responsiveOptions = [
            ['screen and (min-width: 640px)', {
              chartPadding: 30,
              labelOffset: 100,
              labelDirection: 'explode',
              labelInterpolationFnc: function(value) {
                return value;
              }
            }],
            ['screen and (min-width: 1024px)', {
              labelOffset: 100,
              chartPadding: 50
            }]
            ];
            new Chartist.Pie('.ct-chart', data, options, responsiveOptions);
        </script>
  </div>
</div>
</body>
{% endblock %}